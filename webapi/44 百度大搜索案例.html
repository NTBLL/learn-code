<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        #box {
            width: 450px;
            margin: 200px auto;
        }

        #txt {
            width: 350px;
        }

        #pop {
            width: 350px;
            border: 1px solid red;
        }

        #pop ul {
            margin: 10px;
            padding: 0px;
            width: 200px;
            list-style-type: none;

        }

        #pop ul li {

        }
    </style>
</head>
<body>

<div id="box">
    <input type="text" id="txt" value="">
    <input type="button" value="搜索" id="btn">

</div>

<script src="js/common.js"></script>
<script>

    var keyWords = ["小杨才是最纯洁的", "小杨才是最帅的", "小段是最猥琐的",
        "小超是最龌龊的", "传智播客是一个培训机构", "传说在传智有个很帅很纯洁的小杨",
        "苹果好吃", "苹果此次召回还是没有中国"];


    my$("txt").onkeyup = function () {
      //console.log("键盘抬起事件");

        if(my$("showContent")){
            my$("box").removeChild(my$("showContent"));
        }

        //创建一个临时数组用于存放搜索匹配的数据
        var tempArr = [];

        //根据文本内容匹配已有数据
        for (var i = 0; i < keyWords.length; i++) {
            if (keyWords[i].indexOf(this.value) == 0 && this.value.trim().length > 0){
                tempArr.push(keyWords[i]);
            }
        }

        if (tempArr.length == 0 || this.value.trim().length <= 0){
            if(my$("showContent")) {
                my$("box").removeChild(my$("showContent"));

            }
            return;
        }

        //创建DIV
        var objDiv = document.createElement("div");
        objDiv.id = "showContent";
        objDiv.style.width = "350px";
        objDiv.style.border = "2px solid green";
        my$("box").appendChild(objDiv);

        for (var i = 0; i < tempArr.length; i++) {
            var objP = document.createElement("p");
            objP.style.margin = "0";
            objP.style.padding = "0";
            objP.style.cursor = "pointer";
            setTextContent(objP, tempArr[i]);
            objDiv.appendChild(objP);
            objP.onmouseover = function () {
                this.style.backgroundColor = "yellow";
            };
            objP.onmouseout = function () {
                this.style.backgroundColor = "";
            };
        }

    };

</script>

</body>
</html>